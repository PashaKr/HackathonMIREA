<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LaTexApp</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Функция рендеринга LaTeX в реальном времени
            const latexInput = document.getElementById('latexInput');
            const latexOutput = document.getElementById('latexOutput');

            // Слушаем изменения в textarea
            latexInput.addEventListener('input', function () {
                const latexCode = latexInput.value;
                latexOutput.innerHTML = '$$' + latexCode + '$$';

                // Рендерим LaTeX формулу с помощью KaTeX
                renderMathInElement(latexOutput, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "\\(", right: "\\)", display: false}
                    ]
                });
            });
        });
    </script>
</head>
<body>
<h1>LaTexApp</h1>

<form>
    <label for="latexInput">Введите LaTeX:</label><br>
    <textarea id="latexInput" name="latexInput" rows="4" cols="50" placeholder="Введите формулу в LaTeX" required></textarea><br><br>
</form>

<!-- Динамическое отображение LaTeX формулы -->
<div>
    <h2>Результат:</h2>
    <div id="latexOutput"></div>
</div>

</body>
</html>
