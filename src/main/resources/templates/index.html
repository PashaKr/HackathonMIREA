<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>LaTexApp</title>

    <!-- Подключение внешнего стиля -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/katex/katex.min.css">

    <!-- Подключение KaTeX для рендеринга формул -->
    <script type="text/javascript" src="/katex/katex.min.js"></script>
    <script type="text/javascript" src="/katex/auto-render.min.js"></script>

</head>
<body>
<h1>LaTexApp</h1>

<!-- Кнопки категорий верхний ряд-->
<div class="categories" style="margin-top: 20px; display: flex;">
    <div class="button-group">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#constructionsModal">
            Базовые конструкции
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#symbolsModal">
            Греческие буквы и специальные символы
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#operatorsModal">
            Операторы и функции
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#environmentsModal">
            Окружения
        </button>
    </div>
</div>

<!--Кнопки категорий нижний ряд-->
<div class="categories" style="margin-top: 20px; display: flex;">
    <div class="button-group">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#relationsModal">
            Стрелки и отношения
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#matricesModal">
            Матрицы и массивы
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modificationsModal">
            Модификации символов
        </button>
    </div>
</div>

<!-- Кнопка "Сохранить изображение" -->
<div class="save-button" style="margin-top: 20px; margin-bottom: 40px; display: flex;">
    <button id="saveImageButton" type="button" class="btn btn-success">
        Сохранить изображение
    </button>
</div>

<!-- Кнопки для работы с базой данных -->
<div class="database-buttons" style="margin-top: 20px; display: flex; gap: 5px">
    <button id="saveFormulaButton" type="button" class="btn btn-warning">Сохранить формулу</button>
    <button
            id="loadFormulasButton" type="button" class="btn btn-info" data-bs-toggle="modal"
            data-bs-target="#formulasModal">Показать сохранённые формулы
    </button>
</div>

<!-- Форма для ввода LaTeX -->
<form id="latexForm">
    <label for="latexInput">Введите LaTeX:</label><br>
    <textarea id="latexInput" name="latexInput" rows="4" cols="50" placeholder="Введите формулу в LaTeX" required></textarea><br><br>
</form>

<!-- Модальные окна -->

<th:block th:insert="~{fragments/modal_constructions :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_symbols :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_operators :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_environments :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_relations :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_matrices :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_modifications :: modal}"></th:block>
<th:block th:insert="~{fragments/modal_formulas :: modal}"></th:block>

<!-- Динамическое отображение LaTeX формулы -->
<div>
    <h2>Результат:</h2>
    <div id="latexOutput"></div>
</div>

<!-- Подключение JS логики -->
<script type="text/javascript" src="/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/js/latex-renderer.js"></script>
<script type="text/javascript" src="/js/image-render.js"></script>
<script type="text/javascript" src="/js/formulas-saver.js"></script>

</body>
</html>
